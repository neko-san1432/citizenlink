<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script type="module" src="./js/upload.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@turf/turf@6/turf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/string-similarity/umd/string-similarity.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.2/dist/purify.min.js"></script>
    <script type="module" src="./js/subcategoryInit.js"></script>
    <title>Complaint upload/show/etc</title>
  </head>
  <body>
    <div id="1">
      <!-- stats -->
    </div>
    <div id="2" style="display: flex; flex-direction: column;width:100vw;height:100vh;align-items: center;justify-content: center;">
      <form id="complaint-form" style="display: flex; flex-direction: column;">
        <input type="text" id="complaint-title" placeholder="Complaint title"/>
        <label for="complaint-type">Complaint Type</label>
        <select id="complaint-type" name="type" required>
          <option value="" disabled selected>Select complaint type</option>
          <option value="infrastructure">Infrastructure</option>
          <option value="public_safety">Public Safety</option>
          <option value="sanitation">Sanitation</option>
          <option value="utilities">Utilities</option>
          <option value="noise">Noise Complaint</option>
          <option value="other">Other</option>
        </select>
        <label for="complaint-subcategory">Subcategory</label>
        <select id="complaint-subcategory" name="subcategory" required>
          <option value="" disabled selected>Select subcategory</option>
        </select>
        <input type="text" id="complaint-description" />
        <label for="complaint-urgency">Urgency Level</label>
        <select id="complaint-urgency" name="urgency" required>
          <option value="" disabled selected>Select urgency level</option>
          <option value="low">Low - Not time-sensitive</option>
          <option value="medium">Medium - Needs attention within a week</option>
          <option value="high">High - Needs immediate attention</option>
          <option value="emergency">Emergency - Safety hazard</option>
        </select>
        <label for="suggested-unit">Suggested Government Unit</label>
        <select id="suggested-unit" name="suggestedUnit" required>
          <option value="" disabled selected>Select government unit</option>
          <option value="city_hall">City Hall</option>
          <option value="police">Police Department (PNP)</option>
          <option value="fire">Fire Department (BFP)</option>
          <option value="public_works">Public Works (DPWH)</option>
          <option value="waste">Waste Management</option>
          <option value="health">Health Department</option>
        </select>
        <label for="complaint-location">Location</label>
        <input
          type="text"
          id="complaint-location"
          name="location"
          placeholder="Enter the address or location of the issue"
          required
        />
        <div id = "imagesPlaceholder"></div>        <label for="complaint-photo">Upload Photos (Optional)</label>
        <input type="file" id="complaint-photo" name="photo" accept="image/*" multiple />
        <p class="text-muted">Max file size: 5MB per image</p>
        <div>
          <button type="button" id="cancel-btn">Cancel</button>
          <button type="submit">Submit Complaint</button>
        </div>
      </form>
    </div>
  </body>
</html>
